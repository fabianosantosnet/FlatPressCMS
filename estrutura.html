<!DOCTYPE html>
<html lang="pt">
  <head>
  	<meta http-equiv="x-ua-compatible" content="ie=edge">
  	<meta charset="utf-8">
  	<meta name="viewport" content="width=device-width,initial-scale=1">
	  
	<title>Estrutura | FlatPress CMS - Documentação em Língua Portuguesa</title>
	  
	<meta name="description" content="Estrutura do FlatPress CMS">
	<meta name="author" content="Fabiano Santos - @fabianosantosnet">

	<meta property="og:locale" content="pt, pt_BR, pt_PT">
	<meta property="og:type" content="website">
	<meta property="og:title" content="Estrutura do FlatPress CMS">
	<meta property="og:site_name" content="FlatPress CMS">
	<meta property="og:description" content="Estrutura do FlatPress CMS">
	<meta property="og:url" content="https://fabianosantosnet.github.io/FlatPressCMS/">
	<meta property="og:image" content="https://fabianosantosnet.github.io/FlatPressCMS/assets/logo-flatpress-cms-fb.png">
	<meta property="og:image:width" content="1200">
	<meta property="og:image:height" content="630">

	<meta name="twitter:card" content="summary_large_image">
	<meta name="twitter:image" content="https://fabianosantosnet.github.io/HTMLyCMS/assets/logo-flatpress-cms-tw.png">

	<link rel="shortcut icon" type="image/png" href="assets/favicon.png">
	<link rel="canonical" href="https://fabianosantosnet.github.io/FlatPressCMS/">
	<link rel="stylesheet" href="assets/style.css">

	<script src="assets/script.js" defer></script>
	  
  </head>
  <body>
	
	<div id="container-base">  
	  
		<header id="top">		  
		  <h1><a href="./index.html">Flat<span>Press</span> CMS</a></h1>
		  <img src="./assets/logo-small.gif" alt="logotipo do FlatPress CMS" />
		  <p>Seu ponto de partida sobre o FlatPress CMS no idioma português</p>
		  <p class="view"><a href="https://github.com/fabianosantosnet/FlatPressCMS/">GitHub deste site</a></p>
		</header>

		<nav>  
		  <ul>
			<li><a href="./index.html" title="Página inicial">Início</a></li>
			<li><a href="./instalacao.html" title="Requisitos, como instalar, atualizar">Instalação</a></li>
			<li><a href="./historico.html" title="Visão Geral,  História e Linha do tempo">Histórico</a></li>
			<li class="active"><a href="./estrutura.html" title="Organização das pastas, Tecnologia e banco de dados">Estrutura</a></li>			  
			<li><a href="./temas.html" title="Informações sobre os temas">Temas</a></li>
			<li><a href="./extensoes.html" title="Tudo sobre Plugins/Extensões">Extensões</a></li>
			<li><a href="./informacoes-tecnicas.html" title="Informações técnicas e diversas">Diversos</a></li>
			<li><a href="https://git.fabianosantos.net/doar" title="Doe para ajudar no projeto">Doar</a></li>
		  </ul> 
		</nav>

		<main>
			
			<section class="data">
				
				<h2>Estrutura do FlatPress CMS</h2>
				
				<div class="sub sub2">
					
					<h3>Tecnologias</h3>
					<p>Basicamente as tecnologias utilizadas no CMS são: arquivos HTML, CSS, JavaScript e PHP.</p>
					<p>Para o conteúdo é utilizado o <a href="sceditor.com">SCEditor</a></p>

					<p>Frameworks e Bibliotecas: <a href="https://www.smarty.net/" rel="nofollow">Smarty Template Engine</a>, <a href="http://christian-seiler.de/projekte/php/bbcode/index_en.html" rel="nofollow">BBCode Parser</a>,
					   <a href="https://jquery.com/" rel="nofollow">jQuery</a>, <a href="https://jqueryui.com/" rel="nofollow">jQuery UI</a>, <a href="https://www.digitalia.be/software/slimbox2/" rel="nofollow">SlimBox2</a> e
					   <a href="https://photoswipe.com/" rel="nofollow">PhotoSwipe</a>.</p>
					
					<p>Arquivos suportados para upload jpg, jpeg, gif e png</p>
					
				</div><br>

				<div class="sub sub2">
					<h3>Banco de dados</h3>
					<p>Abaixo de forma resumida como é estruturado os arquivos da pasta content dentro da <em>fp-content</em>.</p>
<code><pre>
	[content]
		|
		|-- [$year] 								&lt;- 2 dígitos para o ID do ano ('05' para 2005)
		|       |
		|       |-- [$month]  						&lt;- dois dígitos para o ID do mês ('01' para Janeiro)
		|               |					    
		|               |-- entryYYMMDD-HHMMSS.txt
		|               |-- [entryYYMMDD-HHMMSS]
		|	                		|
		|							|-- rating.txt		
		|			        		|-- view_counter.txt
		|			        		|-- [comments]
		|			                		|
		|				     	    		|-- commentYYMMDD-HHMMSS.txt
		|
		|-- [static]
		|		|
		|		|-- namepage.txt
		|
		|-- [draft]
		|		|
		|		|-- entryYYMMDD-HHMMSS.txt
		|
		|-- categories.txt		
		|-- categories_enconded.dat
</pre></code>			

					 <p>A entrada <b>entryYYMMDD-HHMMSS.txt</b> deve ser única e, portanto, pode ser considerado como o campo ID de uma tabela em um banco de dados.</p>

					<p>Para postagem comum, rascunho e página estática o formato padrão de conteúdo do arquivo entry***.txt é separado por uma palavra chave e pelo caractere PIPE '|'. Ao salvar ou pré-visualizar o '|' será convertido para '&#124;'. 
						A posição de um campo dentro de um arquivo não importa. O exemplo abaixo é da página estática About.</p>

					<p><code class="p">SUBJECT|About|CONTENT|Write something about yourself here. ([url=admin.php?p=static&amp;action=write&amp;page=about]Edit me![/url])|DATE|1650311388|VERSION|fp-1.2.1|</code></p>

					<ul class="none">
						<li><span class="d">SUBJECT|About|</span> - A chave SUBJECT informa após o '|' o título dessa página, nesse caso 'About' <br>
																   <small><strong>Esta é a única chave obrigatória, as demais abaixo são opcionais</strong></small></li>

						<li><span class="d">CONTENT|Write ...|</span> - Refere-se ao conteúdo até encontrar outro '|'</li>
						<li><span class="d">DATE|1650311388|</span> - Data de publicação no formato unix <a href="https://unixtime.org/">timestamp</a> <br>
																	  <small>Este campo não será atualizado quando você editar uma página</small></li>

						<li><span class="d">VERSION|fp-1.2.1|</span> - Informa a versão do CMS</li>
					</ul>			

					<p>Podemos também ter os campos abaixo:</p> 				
					<ul class="none">					
						<li><span class="d">AUTHOR|NomeDoAutor|</span> - Quem foi o autor que publicou essa página</li>
						<li><span class="d">CATEGORIES|draft,commslock,1,5|</span> - Número de identificação da categoria à qual uma página pertence, rascunho ou quando os comentários são permitidos. Os valores múltiplos são separados por vírgula.
				Para esse exemplo significa que essa página é um rascunho 'draft', os comentários estão bloqueados 'commslock' e é arquivado nas categorias 1 e 5.</li>
					</ul>			

					<p>No que tange a comentários "comment***.txt", além dos campos CONTENT, DATE e VERSION são adicionais:</p>

					<ul class="none">					
						<li><span class="d">NAME|Nome|</span> - O nome de quem comentou</li>
						<li><span class="d">EMAIL|visitante@seusite.com.br|</span> - Seu endereço de e-mail (se fornecido)</li>
						<li><span class="d">URL|https://sitevisitante.com.br|</span> - Seu endereço da web (se fornecido)</li>						
						<li><span class="d">IP-ADDRESS|194.117.254.64|</span> - O endereço IP de quem comentou</li>
					</ul>	
					
				</div><br>		
				
				<div class="sub sub2">
					<h3>Organização versão 1.2.1 default</h3>
					
					<p>De forma resumida:</p>
<code class="minilight">
	
	admin/														&lt;-- Pasta com arquivos voltados ao painel de administração
	
	docs/														&lt;-- Algumas informações de documentação
	
	fp-content/													&lt;-- Contém informações do usuário, postagens, imagens dentre outros
																    Ao término da instalação essa pasta fica vazia
	
	fp-defaults/												&lt;-- Guarda as informações de configuração padrão
	
	fp-includes/												&lt;-- Contém os arquivos do coração do CMS e o Smarty
	
	fp-interface/												&lt;-- Contém a camada de apresentação, temas e traduções
	
	fp-plugins/													&lt;-- Apresenta os plugins e arquivos de idiomas dos mesmos
	
	setup/														&lt;-- Pasta de instalação do FlatPress
	
</code><br>
					
			<p>De forma completa:</p>					
<code class="minilight">	
   /															&lt;-- Diretório raiz. Arquivos PHP de inicialização do sistema.	
	CHANGELOG.md
	CONTRIBUTORS.md
	LICENSE.md
	README.md
	
	setup.php
	
	admin.php		
	blog.php		
	comments.php
	contact.php
	defaults.php
	index.php
	login.php
	rss.php
	search.php	
	sitemap.php
	static.php
	
	admin/
	     admin-inline.tpl
		 index.php
		 main.php
		 main.tpl
	
		 imgs/
			 config.png
			 entries.png
			 maintain.png
			 newentry.png
		 	 plugins.png
			 widgets.png
			 
		 includes/
				 panels.prototypes.php
	
		 panels/
			   admin.defaultpanels.php
	
				config/
					  admin.config.php
					  admin.config.tpl
	
				entry/
					 admin.entry.cats.php
					 admin.entry.cats.tpl
					 admin.entry.commedit.php
					 admin.entry.commedit.tpl
					 admin.entry.commentlist.php
					 admin.entry.commentlist.tpl
					 admin.entry.conf.php
					 admin.entry.delete.php
					 admin.entry.delete.tpl
					 admin.entry.list.php
					 admin.entry.list.tpl
					 admin.entry.php
					 admin.entry.stats.php
					 admin.entry.stats.tpl
					 admin.entry.tpl
					 admin.entry.write.php
					 admin.entry.write.tpl
					 shared.entry.form.php
					 shared.entry.form.tpl

				main/
				    admin.main.tpl 

				maintain/
						admin.maintain.php 
						admin.maintain.tpl
						admin.maintain.updates.tpl					
					 
				plugin/
					  admin.plugin.php
					  admin.plugin.tpl
	
				static/
					  admin.static.delete.php
					  admin.static.delete.tpl
					  admin.static.list.php
					  admin.static.list.tpl
					  admin.static.php
					  admin.static.write.php
					  admin.static.write.tpl
					  
				themes/
					  admin.themes.php
					  admin.themes.style.php
					  admin.themes.style.tpl
					  admin.themes.tpl
					  preview-default.png
	
				uploader/
					    admin.uploader.browse.php
					    admin.uploader.browse.tpl
					    admin.uploader.php
					    admin.uploader.thumb.php
					    admin.uploader.tpl
					    
				widgets/
					   admin.widgets.default.php
					   admin.widgets.default.tpl
					   admin.widgets.js
					   admin.widgets.php
					   admin.widgets.raw.php
					   admin.widgets.raw.tpl

	     res/
			admin.css
	
	docs/	
	    README-SmartyValidate
		spb_db.txt
	
	fp-content/
			  delete.me
			  %%setup.lock										&lt;-- Evita nova instalação
																	caso tenha perdido a senha, delete esse arquivo,
																	faça backup da pasta 'fp-content/config/', execute o setup.php
																	e recrie a conta do mesmo modo anterior, após isso restaure 
																	a pasta 'fp-content/config/' novamente
			  attachs/
			  cache/
			  config/
					hashsalt.conf.php
					plugins.conf.php
					settings.conf.php
					widgets.conf.php
	
			  content/											&lt;-- conteúdo
					 
					 categories.txt
					 categories_encoded.dat
					 
					 drafts/
						   entry220702-000622.txt
	
					 static/
						   about.txt
						   menu.txt

					 22/										&lt;-- ano em 2 dígitos
					    06/										&lt;-- mês em 2 dígitos
						07/
						  entry220701-194136.txt				&lt;-- arquivo com conteúdo da postagem no 
																	formato 'entryANOmesDIA-hora.txt' ou 'entryYYMMDD-HHMMSS.txt'

			  images/
					imguploaded.jpg
	
			  index/
				   index-0.dat
				   index.strings.dat
	
			  plugin_commentcenter/
	
			  users/
				   idusuario.php								&lt;-- Onde idusuario é o nome de usuário que foi escolhido na instalação
	
	fp-defaults/
			   plugins.conf.php
			   settings-defaults.php
			   widgets.conf.php
	
	fp-includes/
			   core/
				   core.administration.php
				   core.blogdb.php
				   core.bplustree.class.php
				   core.cache.php
				   core.comment.php
				   core.config.php
				   core.cookie.php
				   core.date.php
				   core.draft.php
				   core.entry.php
				   core.fileio.php
				   core.filesystem.php
				   core.fpdb.class.php
				   core.language.php
				   core.layout.php
				   core.plugins.php
				   core.session.php
				   core.static.php
				   core.system.php
				   core.theme.php
				   core.users.php
				   core.utils.php
				   core.widgets.php
				   core.wp-default-filters.php
				   core.wp-formatting.php
				   core.wp-functions.php
				   core.wp-functions-compat.php
				   core.wp-options.php
				   core.wp-pluggable-funcs.php
				   core.wp-pluggable-funcs_old.php
				   core.wp-plugin-interface.php
				   function.list_categories.php
				   includes.php
				   
			   smarty/
					 Smarty.class.php
					 Smarty_Compiler.class.php
					 SmartyValidate.class.php
					 Config_File.class.php
					 debug.tpl

					 internals/
					 plugins/
	
	fp-interface/												&lt;-- Detalhes no link Temas

	fp-plugins/													&lt;-- Detalhes no link Extensões
	
	setup/
		 index.php
		 main.php
	
		 imgs/
			 loading.gif
			 logo-small.gif
			 shade.png
			 tile.png

		 lang/
		     lang.cs-cz.php	
		     ...
		     lang.pt-br.php
	
		 lib/
			main.lib.php
			step1.lib.php
			step2.lib.php
	
		 res/
			setup.css
	
		 tpls/
			 footer.tpl.php
			 header.tpl.php
			 locked.tpl.php
			 step1.tpl.php
			 step2.tpl.php
			 step3.tpl.php

</code>			
				</div>				
				
			</section>

		</main>

		<footer id="bottom-copy">
		  <p>Projeto mantido por <a href="https://github.com/fabianosantosnet">fabianosantosnet</a></p>
		</footer>
		
	</div>
		 
  </body>
</html>
